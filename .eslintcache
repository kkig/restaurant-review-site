[{"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/index.js":"1","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/App.js":"2","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/contexts/ContextProvider.js":"3","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/layout/Header.js":"4","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/layout/Main.js":"5","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/hooks/usePosition.js":"6","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/contexts/AppContext.js":"7","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/classes/ShopDataItemClass.js":"8","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/index.js":"9","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/index.js":"10","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/SelectLocation.js":"11","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/NoLocationContent.js":"12","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/index.js":"13","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/DialogWindow.js":"14","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantList.js":"15","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/elements/Loading.js":"16","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/DialogContentInfo.js":"17","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantListItem.js":"18","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ListItemSkelton.js":"19","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/classes/UserReviewClass.js":"20","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ReviewComment.js":"21","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ReviewInput.js":"22","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantImage.js":"23","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/elements/ReadOnlyRating.js":"24"},{"size":1486,"mtime":1607502668533,"results":"25","hashOfConfig":"26"},{"size":1470,"mtime":1607511169699,"results":"27","hashOfConfig":"26"},{"size":2482,"mtime":1607737831734,"results":"28","hashOfConfig":"26"},{"size":1215,"mtime":1607502668539,"results":"29","hashOfConfig":"26"},{"size":1372,"mtime":1607511116034,"results":"30","hashOfConfig":"26"},{"size":964,"mtime":1607502668539,"results":"31","hashOfConfig":"26"},{"size":108,"mtime":1607502668536,"results":"32","hashOfConfig":"26"},{"size":383,"mtime":1607502668534,"results":"33","hashOfConfig":"26"},{"size":1283,"mtime":1607502668532,"results":"34","hashOfConfig":"26"},{"size":3923,"mtime":1607737831734,"results":"35","hashOfConfig":"26"},{"size":1120,"mtime":1607502668531,"results":"36","hashOfConfig":"26"},{"size":1184,"mtime":1607502668530,"results":"37","hashOfConfig":"26"},{"size":2222,"mtime":1607502668524,"results":"38","hashOfConfig":"26"},{"size":3701,"mtime":1607502668526,"results":"39","hashOfConfig":"26"},{"size":3571,"mtime":1607737831733,"results":"40","hashOfConfig":"26"},{"size":896,"mtime":1607502668538,"results":"41","hashOfConfig":"26"},{"size":2359,"mtime":1607502668525,"results":"42","hashOfConfig":"26"},{"size":4304,"mtime":1607737831734,"results":"43","hashOfConfig":"26"},{"size":901,"mtime":1607502668516,"results":"44","hashOfConfig":"26"},{"size":182,"mtime":1607502668535,"results":"45","hashOfConfig":"26"},{"size":1368,"mtime":1607502668521,"results":"46","hashOfConfig":"26"},{"size":1651,"mtime":1607502668522,"results":"47","hashOfConfig":"26"},{"size":777,"mtime":1607502668517,"results":"48","hashOfConfig":"26"},{"size":265,"mtime":1607502668538,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"d5wu0l",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"52"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/index.js",[],["101","102"],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/App.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/contexts/ContextProvider.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/layout/Header.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/layout/Main.js",["103","104"],"import React, { useContext } from 'react';\n\nimport Box from '@material-ui/core/Box';\nimport { styled } from '@material-ui/core/styles';\n\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\n// Components\nimport Map from '../../components/MapSection';\nimport RestaurantList from '../../components/ListSection';\n\n// Store\nimport AppContext from '../contexts/AppContext';\nimport restaurantData from '../data/restaurantData.json';\n\nconst MainContainer = styled(Box)({\n  display: 'flex',\n  height: '100%',\n});\n\nconst MapSection = styled(Box)({\n  flexGrow: 1,\n  minWidth: '70%',\n});\n\nconst ListSection = styled(Box)({\n  height: '100%',\n  flexGrow: 1,\n});\n\nconst Main = ({ isMapView }) => {\n  const store = useContext(AppContext);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n\n  // Add json data to store\n  // if (store.countData === 0) {\n  //   store.isShopLoading = true;\n  //   restaurantData.map((shop) =>\n  //     store.addNewShop({ ...shop, dataSrc: 'json' })\n  //   );\n  // }\n\n  return (\n    <MainContainer component='main'>\n      {(!isMobile || (isMobile && isMapView)) && (\n        <MapSection>\n          <Map />\n        </MapSection>\n      )}\n\n      {(!isMobile || (isMobile && !isMapView)) && (\n        <ListSection>\n          <RestaurantList />\n        </ListSection>\n      )}\n    </MainContainer>\n  );\n};\n\nexport default Main;\n","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/hooks/usePosition.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/contexts/AppContext.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/classes/ShopDataItemClass.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/index.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/index.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/SelectLocation.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/UserLocationDialog/NoLocationContent.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/index.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/DialogWindow.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantList.js",["105"],"import React, { useContext, useState, useRef } from 'react';\n\nimport Divider from '@material-ui/core/Divider';\n\n// Component\nimport ListItem from './RestaurantListItem';\nimport ListItemSkelton from './ListItemSkelton';\n\n// Class\nimport userReview from '../../shared/classes/UserReviewClass';\n\n// Store\nimport AppContext from '../../shared/contexts/AppContext';\n\n// MobX\nimport { useObserver } from 'mobx-react';\n\nconst GOOGLE_MAP_API_KEY =\n  process.env.NODE_ENV === 'production'\n    ? process.env.REACT_APP_PROD_GOOGLE_KEY\n    : process.env.REACT_APP_DEV_GOOGLE_KEY;\n\nconst RestaurantList = ({ minValue, maxValue }) => {\n  const [selectedShop, setSelectedShop] = useState(null);\n\n  const store = useContext(AppContext);\n\n  const getAverageValue = (reviewArray) => {\n    const ratingArray = reviewArray.map((review) => review.stars);\n    return ratingArray.reduce((a, b) => a + b, 0) / ratingArray.length;\n  };\n\n  const evalMinMax = (rating) => {\n    if (maxValue >= rating) {\n      if (minValue <= rating) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return;\n    }\n  };\n\n  const reviewAvg = (restaurant) => {\n    const avg =\n      restaurant.ratings.length > 0\n        ? getAverageValue(restaurant.ratings)\n        : restaurant.avgRating;\n\n    return avg;\n  };\n\n  const btwMinMax = (restaurant) => evalMinMax(reviewAvg(restaurant));\n\n  const createCommentArray = (shops) => {\n    let count = 0;\n    const newArray = shops.reviews.map((review) => {\n      count++;\n      return new userReview(count, review.rating, review.text);\n    });\n\n    return newArray;\n  };\n\n  const detailRequest = (restaurantId) => {\n    const endpoint = `https://maps.googleapis.com/maps/api/place/details/json?place_id=${restaurantId}&fields=name,rating,reviews&key=${GOOGLE_MAP_API_KEY}`;\n    const proxy = `https://cors-anywhere.herokuapp.com/`;\n\n    fetch(proxy + endpoint)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.status === 'OK') {\n          const newComments = createCommentArray(data.result);\n          newComments.map((shop) => store.addNewComment(restaurantId, shop));\n          store.isCommentLoading = false;\n        } else {\n          console.log('Errror requesting comments');\n        }\n      })\n      .catch((error) => console.log(error));\n\n    console.log('detail fetched');\n  };\n\n  // Handle close button click\n  const handleItemClick = (id) => {\n    selectedShop !== id ? setSelectedShop(id) : setSelectedShop(null);\n\n    const selectedData = store.ShopDataItem.find((el) => el.id === id);\n    console.log(selectedData);\n\n    if (\n      selectedData.ratings.length === 0 &&\n      selectedData.dataSrc === 'GOOGLE'\n    ) {\n      store.isCommentLoading = true;\n      detailRequest(selectedData.id);\n    }\n  };\n\n  return useObserver(() => (\n    <>\n      {store.isShopLoading ? (\n        <>\n          <ListItemSkelton />\n          <Divider />\n          <ListItemSkelton />\n          <Divider />\n          <ListItemSkelton />\n          <Divider />\n        </>\n      ) : (\n        store.ShopDataItem.filter(btwMinMax).map((restaurant) => (\n          <div key={restaurant.id}>\n            <ListItem\n              restaurant={restaurant}\n              isCommentLoading={store.isCommentLoading}\n              avgValue={reviewAvg(restaurant)}\n              isDetailView={restaurant.id === selectedShop ? true : false}\n              handleCloseClick={() => handleItemClick(restaurant.id)}\n            />\n            <Divider />\n          </div>\n        ))\n      )}\n    </>\n  ));\n};\n\nexport default RestaurantList;\n","/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/elements/Loading.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/MapSection/DialogContentInfo.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantListItem.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ListItemSkelton.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/classes/UserReviewClass.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ReviewComment.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/ReviewInput.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/components/ListSection/RestaurantImage.js",[],"/Users/kaorukigoshi/Desktop/learnCoding/_OpenClassroomExc/_project07/workplace/gastro-view/src/shared/elements/ReadOnlyRating.js",[],{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","severity":1,"message":"111","line":14,"column":8,"nodeType":"112","messageId":"113","endLine":14,"endColumn":22},{"ruleId":"110","severity":1,"message":"114","line":32,"column":9,"nodeType":"112","messageId":"113","endLine":32,"endColumn":14},{"ruleId":"110","severity":1,"message":"115","line":1,"column":39,"nodeType":"112","messageId":"113","endLine":1,"endColumn":45},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"no-unused-vars","'restaurantData' is defined but never used.","Identifier","unusedVar","'store' is assigned a value but never used.","'useRef' is defined but never used.","no-global-assign","no-unsafe-negation"]